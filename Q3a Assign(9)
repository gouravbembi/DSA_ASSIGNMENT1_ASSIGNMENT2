//A
//Kruskalâ€™s Algorithm
#include <iostream>
using namespace std;

struct Edge {
    int u, v, w;
};

int parent[1000];

int findParent(int x) {
    if (parent[x] == x) return x;
    return parent[x] = findParent(parent[x]);
}

void unite(int a, int b) {
    a = findParent(a);
    b = findParent(b);
    if (a != b) parent[b] = a;
}

int main() {
    int n, m;
    cin >> n >> m;

    Edge edges[1000];
    for (int i = 0; i < m; i++) {
        cin >> edges[i].u >> edges[i].v >> edges[i].w;
    }

    for (int i = 0; i < n; i++) parent[i] = i;

    for (int i = 0; i < m - 1; i++) {
        int minIdx = i;
        for (int j = i + 1; j < m; j++)
            if (edges[j].w < edges[minIdx].w) minIdx = j;
        if (minIdx != i) {
            Edge temp = edges[i];
            edges[i] = edges[minIdx];
            edges[minIdx] = temp;
        }
    }

    int mstWeight = 0;

    for (int i = 0; i < m; i++) {
        int u = edges[i].u;
        int v = edges[i].v;
        int w = edges[i].w;
        if (findParent(u) != findParent(v)) {
            unite(u, v);
            mstWeight += w;
            cout << u << " - " << v << " (" << w << ")\n";
        }
    }

    cout << "MST Weight = " << mstWeight;
}
